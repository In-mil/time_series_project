stages:
  train_ann:
    cmd: python -u models/ann_model.py
    deps:
      - models/ann_model.py
      - data/final_data/20251115_dataset_crp.csv
    outs:
      - models/model_ann.keras

  train_gru:
    cmd: python -u models/gru_model.py
    deps:
      - models/gru_model.py
      - data/final_data/20251115_dataset_crp.csv
    outs:
      - models/model_gru.keras

  train_lstm:
    cmd: python -u models/lstm_model.py
    deps:
      - models/lstm_model.py
      - data/final_data/20251115_dataset_crp.csv
    outs:
      - models/model_lstm.keras

  train_transformer:
    cmd: python -u models/transformer_model.py
    deps:
      - models/transformer_model.py
      - data/final_data/20251115_dataset_crp.csv
    outs:
      - models/model_transformer.keras
  train_ensemble:
    cmd: python -u models/ensemble_model.py
    deps:
      - models/ensemble_model.py
      - models/model_ann.keras
      - models/model_gru.keras
      - models/model_lstm.keras
      - models/model_transformer.keras
      - data/final_data/20251115_dataset_crp.csv
    outs:
      - models/model_ensemble.json
      - artifacts/ensemble
  evaluate_models:
    cmd: python -u evaluation/evaluate_models.py
    deps:
      - models/model_ann.keras
      - models/model_gru.keras
      - models/model_lstm.keras
      - models/model_transformer.keras
      - models/model_ensemble.json
    outs:
      - reports/metrics.json